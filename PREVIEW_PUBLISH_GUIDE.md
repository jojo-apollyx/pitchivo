# Preview & Publish Page - Visual Guide

## ğŸ¨ UI Layout

### Desktop View (â‰¥1024px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header (sticky, backdrop blur)                                           â”‚
â”‚ â† Back    Product Name: Collagen Peptide      [Ready to Publish]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘ï¸ Preview as: [Merchant View] [Email Visitor] [After RFQ]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PRODUCT PREVIEW (66%)              â”‚ SIDEBAR (33%)                       â”‚
â”‚                                    â”‚                                     â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚ Product Information                â”‚ Permission Overview                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ Product Name         [ğŸŒ âœ‰ï¸ ğŸ§¾]   â”‚ ğŸŒ Public         15 fields        â”‚
â”‚ Collagen Peptide                   â”‚ âœ‰ï¸ After Click    8 fields         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ ğŸ§¾ After RFQ      5 fields         â”‚
â”‚ Category             [ğŸŒ âœ‰ï¸ ğŸ§¾]   â”‚                                     â”‚
â”‚ Protein & Peptides                 â”‚ [Set All to Public]                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ [Set All to After RFQ]             â”‚
â”‚ CAS Number           [ğŸŒ âœ‰ï¸ ğŸ§¾]   â”‚                                     â”‚
â”‚ 9007-34-5       âœ‰ï¸ Email access    â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ Channel Links                       â”‚
â”‚ Origin Country       [ğŸŒ âœ‰ï¸ ğŸ§¾]   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ China                              â”‚ Email Default  ?ch=email     [âœ…]   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ QR Booth      ?ch=expo       [âœ…]   â”‚
â”‚ Manufacturer         [ğŸŒ âœ‰ï¸ ğŸ§¾]   â”‚ LinkedIn      ?ch=linkedin   [âœ…]   â”‚
â”‚ ABC Biotech                        â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ [â• Add Channel]  [ğŸ“· QR Codes]    â”‚
â”‚                                    â”‚                                     â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚ Technical Specifications           â”‚ Auto Optimization                   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ Appearance           [ğŸŒ âœ‰ï¸ ğŸ§¾]   â”‚ â˜‘ï¸ Auto AIO Optimize               â”‚
â”‚ White powder                       â”‚ Automatically optimize for SEO &   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ channel tracking                    â”‚
â”‚ pH                   [ğŸŒ âœ‰ï¸ ğŸ§¾]   â”‚                                     â”‚
â”‚ 5.0-7.0                            â”‚                                     â”‚
â”‚                                    â”‚                                     â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚                                     â”‚
â”‚ Pricing & MOQ                      â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                                     â”‚
â”‚ Price & Lead Time    [ğŸŒ âœ‰ï¸ ğŸ§¾]   â”‚                                     â”‚
â”‚ [...] ğŸ§¾ RFQ required              â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Footer (fixed, backdrop blur)                                            â”‚
â”‚ 15 public â€¢ 8 after click â€¢ 5 after RFQ   [ğŸš€ Publish Product & Generateâ”‚
â”‚                                                Links]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mobile View (<1024px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header (sticky)         â”‚
â”‚ â† Back                  â”‚
â”‚ Collagen Peptide        â”‚
â”‚ [Ready to Publish]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘ï¸ Preview as:          â”‚
â”‚ [Merchant View]         â”‚
â”‚ [Email Visitor]         â”‚
â”‚ [After RFQ]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Product Information     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Product Name            â”‚
â”‚ [ğŸŒ][âœ‰ï¸][ğŸ§¾]            â”‚
â”‚ Collagen Peptide        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Category                â”‚
â”‚ [ğŸŒ][âœ‰ï¸][ğŸ§¾]            â”‚
â”‚ Protein & Peptides      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CAS Number              â”‚
â”‚ [ğŸŒ][âœ‰ï¸][ğŸ§¾]            â”‚
â”‚ 9007-34-5               â”‚
â”‚ âœ‰ï¸ Email access         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Technical Specs         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Appearance              â”‚
â”‚ [ğŸŒ][âœ‰ï¸][ğŸ§¾]            â”‚
â”‚ White powder            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Permission Overview     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒ Public: 15 fields    â”‚
â”‚ âœ‰ï¸ After Click: 8       â”‚
â”‚ ğŸ§¾ After RFQ: 5         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Set All to Public]     â”‚
â”‚ [Set All to After RFQ]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Channel Links           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Email Default [âœ…]      â”‚
â”‚ ?ch=email               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ QR Booth [âœ…]           â”‚
â”‚ ?ch=expo                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [â• Add Channel]        â”‚
â”‚ [ğŸ“· QR Codes]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Footer (fixed)          â”‚
â”‚ [ğŸš€ Publish Product &   â”‚
â”‚  Generate Links]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Permission Widget States

### Default State (Public Selected)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸŒ Public] [âœ‰ï¸][ğŸ§¾]           â”‚
â”‚   Active      Inactive          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After Click Selected
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸŒ][âœ‰ï¸ After Click][ğŸ§¾]       â”‚
â”‚      Inactive  Active           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After RFQ Selected
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸŒ][âœ‰ï¸][ğŸ§¾ After RFQ]         â”‚
â”‚      Inactive     Active        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ View Mode Simulation

### Merchant View (Default)
- **All fields visible** with full opacity
- **Permission widgets enabled** for editing
- No field masking

### Email Visitor View
- **Public fields**: Full opacity âœ…
- **After Click fields**: Full opacity âœ…
- **After RFQ fields**: Reduced opacity (40%) + Badge "ğŸ§¾ RFQ required"
- **Permission widgets disabled** (view only)

### After RFQ View
- **All fields visible** with full opacity âœ…
- Simulates buyer who submitted RFQ
- **Permission widgets disabled** (view only)

## ğŸ¨ Color Coding

### Permission Levels
```
ğŸŒ Public        â†’ Primary color (bg-primary)
âœ‰ï¸ After Click   â†’ Primary color (bg-primary)
ğŸ§¾ After RFQ     â†’ Primary color (bg-primary)
```

### Status Badges
```
[Ready to Publish]  â†’ Accent color (bg-accent/10, border-accent/30)
[âœ… Email access]   â†’ Success green
[ğŸ§¾ RFQ required]   â†’ Muted gray (border-border/50)
```

## ğŸ“± Responsive Breakpoints

| Screen Size | Layout | Columns | Spacing |
|------------|--------|---------|---------|
| < 640px    | Mobile | 1       | px-4, gap-3 |
| 640px-1024px | Tablet | 1     | px-6, gap-4 |
| â‰¥ 1024px   | Desktop | 3 (2+1) | px-8, gap-6 |

## ğŸ§ª Testing Instructions

### Test Case 1: Navigation Flow
1. Go to `/dashboard/products/create`
2. Fill in product name: "Test Product"
3. Click **"Next: Preview & Publish"** button
4. âœ… Should redirect to `/dashboard/products/{productId}/preview-publish`
5. âœ… Should show "Ready to Publish" badge
6. âœ… Should display product preview

### Test Case 2: Permission Widget Interaction
1. Locate a field (e.g., "CAS Number")
2. Click **ğŸŒ Public** â†’ Widget should be active (bg-primary)
3. Click **âœ‰ï¸ After Click** â†’ Widget should switch to active
4. Click **ğŸ§¾ After RFQ** â†’ Widget should switch to active
5. âœ… Permission stats in sidebar should update in real-time

### Test Case 3: View Mode Switcher
1. Click **"Email Visitor"** button
2. âœ… Fields with "After RFQ" permission should become opaque (40%)
3. âœ… Badge "ğŸ§¾ RFQ required" should appear on hidden fields
4. âœ… Permission widgets should be disabled
5. Click **"Merchant View"** to return to normal

### Test Case 4: Bulk Permission Actions
1. Click **"Set All to Public"** button
2. âœ… All permission widgets should switch to Public
3. âœ… Sidebar stats should show "28 public, 0 after click, 0 after RFQ"
4. Click **"Set All to After RFQ"**
5. âœ… All widgets should switch to After RFQ
6. âœ… Toast notification should appear

### Test Case 5: Add Custom Channel
1. Scroll to "Channel Links" section
2. Click **"â• Add Channel"** button
3. Input field should appear
4. Type "Twitter" and press Enter
5. âœ… New channel should appear: "Twitter ?ch=twitter [âœ…]"
6. âœ… Toast: "Channel 'Twitter' added"

### Test Case 6: Final Publish
1. Review all field permissions
2. Click **"ğŸš€ Publish Product & Generate Links"** button
3. âœ… Loading state: "Publishing..." with spinner
4. âœ… Success toast: "âœ… Product published successfully! Links and QR codes generated."
5. âœ… Should redirect to `/dashboard/products`
6. âœ… Product status should be "published" in database

### Test Case 7: Mobile Responsiveness
1. Resize browser to < 640px
2. âœ… Layout should stack vertically
3. âœ… Permission widgets should show icons only
4. âœ… Sidebar should appear below product preview
5. âœ… Publish button should be full-width at bottom

## ğŸ› Edge Cases to Test

### Edge Case 1: No Product Data
- **URL**: `/dashboard/products/invalid-id/preview-publish`
- **Expected**: Error message "Product not found" + Back button

### Edge Case 2: Empty Fields
- **Scenario**: Product with many empty fields
- **Expected**: Fields show "-" placeholder, still have permission widgets

### Edge Case 3: Long Product Name
- **Scenario**: Product name > 50 characters
- **Expected**: Name should wrap or truncate with ellipsis on mobile

### Edge Case 4: Duplicate Channel Names
- **Scenario**: Try to add "Email" channel (already exists)
- **Expected**: Should allow (different slug: "email_1")

### Edge Case 5: Back Navigation
- **Action**: Click back arrow in header
- **Expected**: Return to `/dashboard/products/create?productId={id}`
- **Data**: Form data should persist (not lost)

## ğŸ¯ User Experience Goals

### Performance
- âš¡ **Load Time**: < 1 second for product data fetch
- âš¡ **Permission Change**: Instant UI update (< 50ms)
- âš¡ **View Mode Switch**: Instant visual feedback

### Accessibility
- â™¿ **Keyboard Navigation**: Tab through all widgets
- â™¿ **Touch Targets**: 44px minimum (mobile)
- â™¿ **Screen Readers**: Proper ARIA labels on widgets

### Visual Feedback
- âœ¨ **Active States**: Clear visual distinction
- âœ¨ **Hover Effects**: Subtle scale (1.02) and shadow
- âœ¨ **Loading States**: Spinner + disabled buttons
- âœ¨ **Success/Error**: Toast notifications with icons

## ğŸ“Š Analytics Events (Future)

```javascript
// Track permission changes
analytics.track('permission_changed', {
  field: 'cas_number',
  old_level: 'public',
  new_level: 'after_click',
  product_id: 'abc123'
})

// Track channel additions
analytics.track('channel_added', {
  channel_name: 'Twitter',
  channel_slug: 'twitter',
  product_id: 'abc123'
})

// Track view mode switches
analytics.track('view_mode_changed', {
  old_mode: 'merchant',
  new_mode: 'email_visitor',
  product_id: 'abc123'
})

// Track publish
analytics.track('product_published', {
  product_id: 'abc123',
  permissions: {
    public: 15,
    after_click: 8,
    after_rfq: 5
  },
  channels: 4
})
```

## ğŸ” Security Considerations

1. **Permission Validation**: Server-side validation of permission levels
2. **Product Ownership**: Ensure user owns the product before allowing publish
3. **Channel Parameters**: Sanitize channel names to prevent XSS
4. **API Rate Limiting**: Prevent spam publishing

## ğŸš€ Deployment Checklist

- [ ] Test on Chrome, Safari, Firefox, Edge
- [ ] Test on iOS Safari (mobile)
- [ ] Test on Android Chrome (mobile)
- [ ] Verify all toast notifications work
- [ ] Verify routing works correctly
- [ ] Test with slow network (3G throttling)
- [ ] Test with large product data (> 100 fields)
- [ ] Verify database updates correctly
- [ ] Check console for errors
- [ ] Verify design matches DESIGN_SYSTEM.md

---

**Last Updated**: November 2025  
**Page**: `/dashboard/products/[productId]/preview-publish`  
**Status**: âœ… Ready for Testing

